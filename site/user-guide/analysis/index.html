<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="GenAI Bench Team" /><link rel="canonical" href="https://github.com/sgl-project/genai-bench/user-guide/analysis/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Results Analysis - GenAI Bench</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Results Analysis";
        var mkdocs_page_input_path = "user-guide/analysis.md";
        var mkdocs_page_url = "/sgl-project/genai-bench/user-guide/analysis/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/json.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> GenAI Bench
        </a>
        <div class="version">
          1.0.0
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting-started/quick-start/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting-started/installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting-started/configuration/">Configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">User Guide</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cli/">Command Line Interface</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tasks/">Tasks and Benchmarks</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Results Analysis</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#understanding-benchmark-results">Understanding Benchmark Results</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#result-structure">Result Structure</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#key-metrics-explained">Key Metrics Explained</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#single-request-metrics">Single-Request Metrics</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#time-metrics">Time Metrics</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#throughput-metrics">Throughput Metrics</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#token-metrics">Token Metrics</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#aggregated-metrics">Aggregated Metrics</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#system-performance">System Performance</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#quality-metrics">Quality Metrics</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#generating-reports">Generating Reports</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#excel-reports">Excel Reports</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#excel-report-contents">Excel Report Contents</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#custom-plots">Custom Plots</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#plot-configuration">Plot Configuration</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#interpreting-results">Interpreting Results</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#performance-analysis">Performance Analysis</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#throughput-analysis">Throughput Analysis</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#latency-analysis">Latency Analysis</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#error-analysis">Error Analysis</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#comparative-analysis">Comparative Analysis</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#model-comparison">Model Comparison</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#configuration-comparison">Configuration Comparison</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#performance-optimization">Performance Optimization</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#identifying-bottlenecks">Identifying Bottlenecks</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#optimization-strategies">Optimization Strategies</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#advanced-analysis">Advanced Analysis</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#statistical-analysis">Statistical Analysis</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#percentile-analysis">Percentile Analysis</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#trend-analysis">Trend Analysis</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#custom-metrics">Custom Metrics</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#business-metrics">Business Metrics</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#quality-metrics_1">Quality Metrics</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#reporting-best-practices">Reporting Best Practices</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#report-structure">Report Structure</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#visualization-guidelines">Visualization Guidelines</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#documentation">Documentation</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#troubleshooting-analysis">Troubleshooting Analysis</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#common-issues">Common Issues</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#missing-data">Missing Data</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#inconsistent-results">Inconsistent Results</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#plot-generation-errors">Plot Generation Errors</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#getting-help">Getting Help</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#next-steps">Next Steps</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/basic-benchmarks/">Basic Benchmarks</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../api/overview/">Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Development</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../development/contributing/">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../development/architecture/">Architecture</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">GenAI Bench</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">User Guide</li>
      <li class="breadcrumb-item active">Results Analysis</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/sgl-project/genai-bench/edit/main/docs/user-guide/analysis.md">Edit on sgl-project/genai-bench</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="results-analysis"><a class="toclink" href="#results-analysis">Results Analysis</a><a class="headerlink" href="#results-analysis" title="Permanent link">&para;</a></h1>
<p>This guide explains how to analyze benchmark results, understand the metrics, and generate comprehensive reports.</p>
<h2 id="understanding-benchmark-results"><a class="toclink" href="#understanding-benchmark-results">Understanding Benchmark Results</a><a class="headerlink" href="#understanding-benchmark-results" title="Permanent link">&para;</a></h2>
<p>After running a benchmark, GenAI Bench generates detailed results that help you understand your system's performance characteristics.</p>
<h3 id="result-structure"><a class="toclink" href="#result-structure">Result Structure</a><a class="headerlink" href="#result-structure" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>experiments/
└── your-experiment/
    ├── results.json          # Raw benchmark data
    ├── metrics.json          # Aggregated metrics
    ├── logs/                 # Detailed logs
    │   ├── benchmark.log
    │   └── errors.log
    └── plots/                # Generated visualizations
        └── performance.png
</code></pre></div>

<h2 id="key-metrics-explained"><a class="toclink" href="#key-metrics-explained">Key Metrics Explained</a><a class="headerlink" href="#key-metrics-explained" title="Permanent link">&para;</a></h2>
<h3 id="single-request-metrics"><a class="toclink" href="#single-request-metrics">Single-Request Metrics</a><a class="headerlink" href="#single-request-metrics" title="Permanent link">&para;</a></h3>
<p>These metrics capture performance for individual requests:</p>
<h4 id="time-metrics"><a class="toclink" href="#time-metrics">Time Metrics</a><a class="headerlink" href="#time-metrics" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Description</th>
<th>Formula</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>TTFT</strong></td>
<td>Time to First Token</td>
<td><code>time_at_first_token - start_time</code></td>
<td>Initial response time</td>
</tr>
<tr>
<td><strong>E2E Latency</strong></td>
<td>End-to-End latency</td>
<td><code>end_time - start_time</code></td>
<td>Total request time</td>
</tr>
<tr>
<td><strong>TPOT</strong></td>
<td>Time Per Output Token</td>
<td><code>(e2e_latency - TTFT) / (num_output_tokens - 1)</code></td>
<td>Generation speed</td>
</tr>
</tbody>
</table>
<h4 id="throughput-metrics"><a class="toclink" href="#throughput-metrics">Throughput Metrics</a><a class="headerlink" href="#throughput-metrics" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Description</th>
<th>Formula</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Input Throughput</strong></td>
<td>Input processing rate</td>
<td><code>num_input_tokens / TTFT</code></td>
<td>tokens/second</td>
</tr>
<tr>
<td><strong>Output Throughput</strong></td>
<td>Output generation rate</td>
<td><code>(num_output_tokens - 1) / output_latency</code></td>
<td>tokens/second</td>
</tr>
<tr>
<td><strong>Inference Speed</strong></td>
<td>Overall generation speed</td>
<td><code>1 / TPOT</code></td>
<td>tokens/second</td>
</tr>
</tbody>
</table>
<h4 id="token-metrics"><a class="toclink" href="#token-metrics">Token Metrics</a><a class="headerlink" href="#token-metrics" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Input Tokens</strong></td>
<td>Number of prompt tokens</td>
<td>tokens</td>
</tr>
<tr>
<td><strong>Output Tokens</strong></td>
<td>Number of generated tokens</td>
<td>tokens</td>
</tr>
<tr>
<td><strong>Total Tokens</strong></td>
<td>Total tokens processed</td>
<td>tokens</td>
</tr>
</tbody>
</table>
<h3 id="aggregated-metrics"><a class="toclink" href="#aggregated-metrics">Aggregated Metrics</a><a class="headerlink" href="#aggregated-metrics" title="Permanent link">&para;</a></h3>
<p>These metrics summarize performance across multiple requests:</p>
<h4 id="system-performance"><a class="toclink" href="#system-performance">System Performance</a><a class="headerlink" href="#system-performance" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Description</th>
<th>Formula</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Mean Input Throughput</strong></td>
<td>Average input processing</td>
<td><code>sum(input_tokens) / run_duration</code></td>
<td>tokens/second</td>
</tr>
<tr>
<td><strong>Mean Output Throughput</strong></td>
<td>Average output generation</td>
<td><code>sum(output_tokens) / run_duration</code></td>
<td>tokens/second</td>
</tr>
<tr>
<td><strong>Total Tokens Throughput</strong></td>
<td>Overall processing rate</td>
<td><code>sum(total_tokens) / run_duration</code></td>
<td>tokens/second</td>
</tr>
<tr>
<td><strong>Requests Per Minute</strong></td>
<td>Request processing rate</td>
<td><code>num_completed_requests / duration * 60</code></td>
<td>requests/minute</td>
</tr>
</tbody>
</table>
<h4 id="quality-metrics"><a class="toclink" href="#quality-metrics">Quality Metrics</a><a class="headerlink" href="#quality-metrics" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Description</th>
<th>Formula</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Error Rate</strong></td>
<td>Percentage of failed requests</td>
<td><code>num_error_requests / total_requests</code></td>
<td>percentage</td>
</tr>
<tr>
<td><strong>Success Rate</strong></td>
<td>Percentage of successful requests</td>
<td><code>num_completed_requests / total_requests</code></td>
<td>percentage</td>
</tr>
<tr>
<td><strong>Total Chars Per Hour</strong></td>
<td>Character processing capacity</td>
<td><code>total_tokens_throughput * chars_per_token * 3600</code></td>
<td>characters/hour</td>
</tr>
</tbody>
</table>
<h2 id="generating-reports"><a class="toclink" href="#generating-reports">Generating Reports</a><a class="headerlink" href="#generating-reports" title="Permanent link">&para;</a></h2>
<h3 id="excel-reports"><a class="toclink" href="#excel-reports">Excel Reports</a><a class="headerlink" href="#excel-reports" title="Permanent link">&para;</a></h3>
<p>Generate comprehensive Excel reports with all metrics:</p>
<div class="codehilite"><pre><span></span><code>genai-bench<span class="w"> </span>excel<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--experiment-dir<span class="w"> </span><span class="s2">&quot;./experiments/my-benchmark&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output-file<span class="w"> </span><span class="s2">&quot;detailed_report.xlsx&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--include-raw-data<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--include-pricing
</code></pre></div>

<h4 id="excel-report-contents"><a class="toclink" href="#excel-report-contents">Excel Report Contents</a><a class="headerlink" href="#excel-report-contents" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Summary Sheet</strong>: High-level metrics and statistics</li>
<li><strong>Raw Data</strong>: Individual request metrics</li>
<li><strong>Aggregated Metrics</strong>: System-level performance</li>
<li><strong>Pricing Analysis</strong>: Cost calculations</li>
<li><strong>Error Analysis</strong>: Failed request details</li>
</ol>
<h3 id="custom-plots"><a class="toclink" href="#custom-plots">Custom Plots</a><a class="headerlink" href="#custom-plots" title="Permanent link">&para;</a></h3>
<p>Generate visualizations with custom configurations:</p>
<div class="codehilite"><pre><span></span><code>genai-bench<span class="w"> </span>plot<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--experiment-dirs<span class="w"> </span><span class="s2">&quot;./exp1,./exp2,./exp3&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output-file<span class="w"> </span><span class="s2">&quot;comparison.png&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--plot-config<span class="w"> </span><span class="s2">&quot;my_config.yaml&quot;</span>
</code></pre></div>

<h4 id="plot-configuration"><a class="toclink" href="#plot-configuration">Plot Configuration</a><a class="headerlink" href="#plot-configuration" title="Permanent link">&para;</a></h4>
<p>Create a YAML configuration file:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># plot_config.yaml</span>
<span class="nt">layout</span><span class="p">:</span>
<span class="w">  </span><span class="nt">rows</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">cols</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>

<span class="nt">plots</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Throughput</span><span class="nv"> </span><span class="s">vs</span><span class="nv"> </span><span class="s">Concurrency&quot;</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;line&quot;</span>
<span class="w">    </span><span class="nt">x_axis</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;num_users&quot;</span>
<span class="w">    </span><span class="nt">y_axis</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mean_total_tokens_throughput&quot;</span>
<span class="w">    </span><span class="nt">color_by</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;server_engine&quot;</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Latency</span><span class="nv"> </span><span class="s">vs</span><span class="nv"> </span><span class="s">Concurrency&quot;</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;line&quot;</span>
<span class="w">    </span><span class="nt">x_axis</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;num_users&quot;</span>
<span class="w">    </span><span class="nt">y_axis</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mean_e2e_latency&quot;</span>
<span class="w">    </span><span class="nt">color_by</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;server_engine&quot;</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Error</span><span class="nv"> </span><span class="s">Rate</span><span class="nv"> </span><span class="s">vs</span><span class="nv"> </span><span class="s">Concurrency&quot;</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bar&quot;</span>
<span class="w">    </span><span class="nt">x_axis</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;num_users&quot;</span>
<span class="w">    </span><span class="nt">y_axis</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;error_rate&quot;</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Token</span><span class="nv"> </span><span class="s">Distribution&quot;</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;histogram&quot;</span>
<span class="w">    </span><span class="nt">x_axis</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;num_output_tokens&quot;</span>
<span class="w">    </span><span class="nt">bins</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
</code></pre></div>

<h2 id="interpreting-results"><a class="toclink" href="#interpreting-results">Interpreting Results</a><a class="headerlink" href="#interpreting-results" title="Permanent link">&para;</a></h2>
<h3 id="performance-analysis"><a class="toclink" href="#performance-analysis">Performance Analysis</a><a class="headerlink" href="#performance-analysis" title="Permanent link">&para;</a></h3>
<h4 id="throughput-analysis"><a class="toclink" href="#throughput-analysis">Throughput Analysis</a><a class="headerlink" href="#throughput-analysis" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Identify Peak Throughput</strong>: Find the maximum sustainable throughput</li>
<li><strong>Bottleneck Detection</strong>: Look for performance degradation points</li>
<li><strong>Scaling Efficiency</strong>: Analyze how performance scales with concurrency</li>
</ol>
<h4 id="latency-analysis"><a class="toclink" href="#latency-analysis">Latency Analysis</a><a class="headerlink" href="#latency-analysis" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Response Time Distribution</strong>: Understand latency percentiles</li>
<li><strong>TTFT vs E2E</strong>: Compare initial vs total response times</li>
<li><strong>Latency Stability</strong>: Check for latency spikes or inconsistencies</li>
</ol>
<h4 id="error-analysis"><a class="toclink" href="#error-analysis">Error Analysis</a><a class="headerlink" href="#error-analysis" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Error Patterns</strong>: Identify common error types</li>
<li><strong>Error Rate Trends</strong>: Monitor error rates under different loads</li>
<li><strong>Recovery Behavior</strong>: Test system recovery after errors</li>
</ol>
<h3 id="comparative-analysis"><a class="toclink" href="#comparative-analysis">Comparative Analysis</a><a class="headerlink" href="#comparative-analysis" title="Permanent link">&para;</a></h3>
<h4 id="model-comparison"><a class="toclink" href="#model-comparison">Model Comparison</a><a class="headerlink" href="#model-comparison" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="c1"># Run benchmarks for different models</span>
<span class="k">for</span><span class="w"> </span>model<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;gpt-3.5-turbo&quot;</span><span class="w"> </span><span class="s2">&quot;gpt-4&quot;</span><span class="w"> </span><span class="s2">&quot;llama-2-7b&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>genai-bench<span class="w"> </span>benchmark<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--api-model-name<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$model</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--output-dir<span class="w"> </span><span class="s2">&quot;./experiments/</span><span class="nv">$model</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--max-time-per-run<span class="w"> </span><span class="m">300</span>
<span class="k">done</span>

<span class="c1"># Generate comparison</span>
genai-bench<span class="w"> </span>plot<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--experiment-dirs<span class="w"> </span><span class="s2">&quot;./experiments/gpt-3.5-turbo,./experiments/gpt-4,./experiments/llama-2-7b&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output-file<span class="w"> </span><span class="s2">&quot;model_comparison.png&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--group-by<span class="w"> </span><span class="s2">&quot;api_model_name&quot;</span>
</code></pre></div>

<h4 id="configuration-comparison"><a class="toclink" href="#configuration-comparison">Configuration Comparison</a><a class="headerlink" href="#configuration-comparison" title="Permanent link">&para;</a></h4>
<p>Compare different configurations:</p>
<ul>
<li><strong>Concurrency Levels</strong>: Test different user counts</li>
<li><strong>Traffic Patterns</strong>: Compare constant vs burst vs ramp</li>
<li><strong>Model Parameters</strong>: Test different temperature, max_tokens settings</li>
</ul>
<h3 id="performance-optimization"><a class="toclink" href="#performance-optimization">Performance Optimization</a><a class="headerlink" href="#performance-optimization" title="Permanent link">&para;</a></h3>
<h4 id="identifying-bottlenecks"><a class="toclink" href="#identifying-bottlenecks">Identifying Bottlenecks</a><a class="headerlink" href="#identifying-bottlenecks" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>CPU Bottlenecks</strong>: High CPU usage, low throughput</li>
<li><strong>Memory Bottlenecks</strong>: High memory usage, OOM errors</li>
<li><strong>Network Bottlenecks</strong>: High latency, connection timeouts</li>
<li><strong>GPU Bottlenecks</strong>: Low GPU utilization, long inference times</li>
</ol>
<h4 id="optimization-strategies"><a class="toclink" href="#optimization-strategies">Optimization Strategies</a><a class="headerlink" href="#optimization-strategies" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Batch Processing</strong>: Increase batch sizes for better throughput</li>
<li><strong>Model Optimization</strong>: Use quantized or optimized models</li>
<li><strong>Infrastructure Scaling</strong>: Add more resources or instances</li>
<li><strong>Request Optimization</strong>: Optimize prompt length and parameters</li>
</ol>
<h2 id="advanced-analysis"><a class="toclink" href="#advanced-analysis">Advanced Analysis</a><a class="headerlink" href="#advanced-analysis" title="Permanent link">&para;</a></h2>
<h3 id="statistical-analysis"><a class="toclink" href="#statistical-analysis">Statistical Analysis</a><a class="headerlink" href="#statistical-analysis" title="Permanent link">&para;</a></h3>
<h4 id="percentile-analysis"><a class="toclink" href="#percentile-analysis">Percentile Analysis</a><a class="headerlink" href="#percentile-analysis" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># Load results</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s2">&quot;experiments/my-benchmark/results.json&quot;</span><span class="p">)</span>

<span class="c1"># Calculate percentiles</span>
<span class="n">percentiles</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;e2e_latency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;P50: </span><span class="si">{</span><span class="n">percentiles</span><span class="p">[</span><span class="mf">0.5</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;P90: </span><span class="si">{</span><span class="n">percentiles</span><span class="p">[</span><span class="mf">0.9</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;P95: </span><span class="si">{</span><span class="n">percentiles</span><span class="p">[</span><span class="mf">0.95</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;P99: </span><span class="si">{</span><span class="n">percentiles</span><span class="p">[</span><span class="mf">0.99</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
</code></pre></div>

<h4 id="trend-analysis"><a class="toclink" href="#trend-analysis">Trend Analysis</a><a class="headerlink" href="#trend-analysis" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="c1"># Analyze trends over time</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;timestamp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;start_time&#39;</span><span class="p">])</span>
<span class="n">hourly_stats</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;timestamp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span><span class="p">)[</span><span class="s1">&#39;e2e_latency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">])</span>
</code></pre></div>

<h3 id="custom-metrics"><a class="toclink" href="#custom-metrics">Custom Metrics</a><a class="headerlink" href="#custom-metrics" title="Permanent link">&para;</a></h3>
<h4 id="business-metrics"><a class="toclink" href="#business-metrics">Business Metrics</a><a class="headerlink" href="#business-metrics" title="Permanent link">&para;</a></h4>
<p>Calculate business-relevant metrics:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Cost per request</span>
<span class="n">cost_per_request</span> <span class="o">=</span> <span class="p">(</span><span class="n">input_tokens</span> <span class="o">*</span> <span class="n">input_cost</span> <span class="o">+</span> <span class="n">output_tokens</span> <span class="o">*</span> <span class="n">output_cost</span><span class="p">)</span>

<span class="c1"># Revenue per hour</span>
<span class="n">revenue_per_hour</span> <span class="o">=</span> <span class="n">requests_per_hour</span> <span class="o">*</span> <span class="n">price_per_request</span>

<span class="c1"># ROI calculation</span>
<span class="n">roi</span> <span class="o">=</span> <span class="p">(</span><span class="n">revenue_per_hour</span> <span class="o">-</span> <span class="n">cost_per_hour</span><span class="p">)</span> <span class="o">/</span> <span class="n">cost_per_hour</span>
</code></pre></div>

<h4 id="quality-metrics_1"><a class="toclink" href="#quality-metrics_1">Quality Metrics</a><a class="headerlink" href="#quality-metrics_1" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="c1"># Response quality (if available)</span>
<span class="n">quality_score</span> <span class="o">=</span> <span class="n">calculate_quality_score</span><span class="p">(</span><span class="n">responses</span><span class="p">)</span>

<span class="c1"># Consistency metrics</span>
<span class="n">latency_consistency</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;e2e_latency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span> <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;e2e_latency&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</code></pre></div>

<h2 id="reporting-best-practices"><a class="toclink" href="#reporting-best-practices">Reporting Best Practices</a><a class="headerlink" href="#reporting-best-practices" title="Permanent link">&para;</a></h2>
<h3 id="report-structure"><a class="toclink" href="#report-structure">Report Structure</a><a class="headerlink" href="#report-structure" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Executive Summary</strong>: High-level findings and recommendations</li>
<li><strong>Methodology</strong>: Benchmark setup and configuration</li>
<li><strong>Results</strong>: Detailed metrics and analysis</li>
<li><strong>Conclusions</strong>: Key insights and next steps</li>
</ol>
<h3 id="visualization-guidelines"><a class="toclink" href="#visualization-guidelines">Visualization Guidelines</a><a class="headerlink" href="#visualization-guidelines" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Use Appropriate Charts</strong>: Line charts for trends, bar charts for comparisons</li>
<li><strong>Include Error Bars</strong>: Show confidence intervals where applicable</li>
<li><strong>Consistent Formatting</strong>: Use consistent colors, fonts, and scales</li>
<li><strong>Clear Labels</strong>: Provide descriptive titles and axis labels</li>
</ol>
<h3 id="documentation"><a class="toclink" href="#documentation">Documentation</a><a class="headerlink" href="#documentation" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Record Configuration</strong>: Document all benchmark parameters</li>
<li><strong>Note Environment</strong>: Record hardware, software, and network conditions</li>
<li><strong>Track Changes</strong>: Version control your benchmark configurations</li>
<li><strong>Share Context</strong>: Provide business context for technical results</li>
</ol>
<h2 id="troubleshooting-analysis"><a class="toclink" href="#troubleshooting-analysis">Troubleshooting Analysis</a><a class="headerlink" href="#troubleshooting-analysis" title="Permanent link">&para;</a></h2>
<h3 id="common-issues"><a class="toclink" href="#common-issues">Common Issues</a><a class="headerlink" href="#common-issues" title="Permanent link">&para;</a></h3>
<h4 id="missing-data"><a class="toclink" href="#missing-data">Missing Data</a><a class="headerlink" href="#missing-data" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>Error: No results found in experiment directory
</code></pre></div>

<p><strong>Solution</strong>: Check that the benchmark completed successfully and generated results.</p>
<h4 id="inconsistent-results"><a class="toclink" href="#inconsistent-results">Inconsistent Results</a><a class="headerlink" href="#inconsistent-results" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>Warning: High variance in latency measurements
</code></pre></div>

<p><strong>Solution</strong>: Check for network issues, system load, or configuration problems.</p>
<h4 id="plot-generation-errors"><a class="toclink" href="#plot-generation-errors">Plot Generation Errors</a><a class="headerlink" href="#plot-generation-errors" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>Error: Invalid plot configuration
</code></pre></div>

<p><strong>Solution</strong>: Validate your YAML configuration file syntax and structure.</p>
<h3 id="getting-help"><a class="toclink" href="#getting-help">Getting Help</a><a class="headerlink" href="#getting-help" title="Permanent link">&para;</a></h3>
<ul>
<li>Check the <a href="../cli/">CLI Reference</a> for command options</li>
<li>Review <a href="../../examples/basic-benchmarks/">Examples</a> for analysis patterns</li>
<li>Open an <a href="https://github.com/sgl-project/genai-bench/issues">issue</a> for bugs</li>
</ul>
<h2 id="next-steps"><a class="toclink" href="#next-steps">Next Steps</a><a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li>Learn about <a href="../tasks/">Traffic Scenarios</a> for load testing</li>
<li>Explore <a href="../../examples/basic-benchmarks/">Examples</a> for practical analysis</li>
<li>Check out <a href="../../api/overview/">API Reference</a> for programmatic access </li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../tasks/" class="btn btn-neutral float-left" title="Tasks and Benchmarks"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../examples/basic-benchmarks/" class="btn btn-neutral float-right" title="Basic Benchmarks">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy; 2024 GenAI Bench Team</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/sgl-project/genai-bench" class="fa fa-code-fork" style="color: #fcfcfc"> sgl-project/genai-bench</a>
        </span>
    
    
      <span><a href="../tasks/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../examples/basic-benchmarks/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
