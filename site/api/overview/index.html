<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="GenAI Bench Team" /><link rel="canonical" href="https://github.com/sgl-project/genai-bench/api/overview/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Overview - GenAI Bench</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Overview";
        var mkdocs_page_input_path = "api/overview.md";
        var mkdocs_page_url = "/sgl-project/genai-bench/api/overview/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/json.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> GenAI Bench
        </a>
        <div class="version">
          1.0.0
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting-started/quick-start/">Quick Start</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting-started/installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting-started/configuration/">Configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">User Guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../user-guide/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../user-guide/cli/">Command Line Interface</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../user-guide/tasks/">Tasks and Benchmarks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../user-guide/analysis/">Results Analysis</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/basic-benchmarks/">Basic Benchmarks</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API Reference</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Overview</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#api-categories">API Categories</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#core-concepts">Core Concepts</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#benchmark-configuration">Benchmark Configuration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#task-types">Task Types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#metrics-structure">Metrics Structure</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#quick-start-examples">Quick Start Examples</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#python-api">Python API</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cli-api">CLI API</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#rest-api">REST API</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#api-stability">API Stability</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#stability-levels">Stability Levels</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#current-stability">Current Stability</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#versioning">Versioning</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#api-versioning">API Versioning</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#authentication">Authentication</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#api-keys">API Keys</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#security-best-practices">Security Best Practices</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#error-handling">Error Handling</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#common-error-types">Common Error Types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#error-response-format">Error Response Format</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#integration-examples">Integration Examples</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#cicd-integration">CI/CD Integration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#docker-integration">Docker Integration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#kubernetes-integration">Kubernetes Integration</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#performance-considerations">Performance Considerations</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#resource-usage">Resource Usage</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#optimization-tips">Optimization Tips</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#common-issues">Common Issues</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#debug-mode">Debug Mode</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#getting-help">Getting Help</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#next-steps">Next Steps</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Development</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../development/contributing/">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../development/architecture/">Architecture</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">GenAI Bench</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">API Reference</li>
      <li class="breadcrumb-item active">Overview</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/sgl-project/genai-bench/edit/main/docs/api/overview.md">Edit on sgl-project/genai-bench</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="api-overview"><a class="toclink" href="#api-overview">API Overview</a><a class="headerlink" href="#api-overview" title="Permanent link">&para;</a></h1>
<p>This section provides comprehensive documentation for GenAI Bench's APIs, interfaces, and extension points. Whether you're integrating GenAI Bench into your workflow or extending its functionality, this documentation will help you understand the available interfaces.</p>
<h2 id="api-categories"><a class="toclink" href="#api-categories">API Categories</a><a class="headerlink" href="#api-categories" title="Permanent link">&para;</a></h2>
<p>GenAI Bench provides several types of APIs:</p>
<ol>
<li><strong>CLI API</strong> - Command-line interface for running benchmarks (see <a href="../../user-guide/cli/">CLI Reference</a>)</li>
<li><strong>Python API</strong> - Programmatic interface for Python applications</li>
<li><strong>REST API</strong> - HTTP API for remote access (when using web UI)</li>
<li><strong>Extension APIs</strong> - Interfaces for extending functionality</li>
</ol>
<h2 id="core-concepts"><a class="toclink" href="#core-concepts">Core Concepts</a><a class="headerlink" href="#core-concepts" title="Permanent link">&para;</a></h2>
<h3 id="benchmark-configuration"><a class="toclink" href="#benchmark-configuration">Benchmark Configuration</a><a class="headerlink" href="#benchmark-configuration" title="Permanent link">&para;</a></h3>
<p>All APIs work with a common configuration structure:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">BenchmarkConfig</span><span class="p">:</span>
    <span class="c1"># API Configuration</span>
    <span class="n">api_backend</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">api_base</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">api_key</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">api_model_name</span><span class="p">:</span> <span class="nb">str</span>

    <span class="c1"># Task Configuration</span>
    <span class="n">task</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">dataset_name</span><span class="p">:</span> <span class="nb">str</span>

    <span class="c1"># Load Configuration</span>
    <span class="n">num_users</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">max_time_per_run</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">max_requests_per_run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">spawn_rate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Output Configuration</span>
    <span class="n">output_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;./results&quot;</span>
    <span class="n">ui</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Advanced Configuration</span>
    <span class="n">additional_sampling_params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">server_info</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

<h3 id="task-types"><a class="toclink" href="#task-types">Task Types</a><a class="headerlink" href="#task-types" title="Permanent link">&para;</a></h3>
<p>GenAI Bench supports several task types:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TaskType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">TEXT_TO_TEXT</span> <span class="o">=</span> <span class="s2">&quot;text-to-text&quot;</span>
    <span class="n">TEXT_TO_EMBEDDINGS</span> <span class="o">=</span> <span class="s2">&quot;text-to-embeddings&quot;</span>
    <span class="n">IMAGE_TEXT_TO_TEXT</span> <span class="o">=</span> <span class="s2">&quot;image-text-to-text&quot;</span>
    <span class="n">IMAGE_TO_EMBEDDINGS</span> <span class="o">=</span> <span class="s2">&quot;image-to-embeddings&quot;</span>
</code></pre></div>

<h3 id="metrics-structure"><a class="toclink" href="#metrics-structure">Metrics Structure</a><a class="headerlink" href="#metrics-structure" title="Permanent link">&para;</a></h3>
<p>All APIs return metrics in a consistent format:</p>
<div class="codehilite"><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">BenchmarkMetrics</span><span class="p">:</span>
    <span class="c1"># Request-level metrics</span>
    <span class="n">request_metrics</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">RequestMetric</span><span class="p">]</span>

    <span class="c1"># Aggregated metrics</span>
    <span class="n">aggregated_metrics</span><span class="p">:</span> <span class="n">AggregatedMetrics</span>

    <span class="c1"># System metrics</span>
    <span class="n">system_metrics</span><span class="p">:</span> <span class="n">SystemMetrics</span>

    <span class="c1"># Metadata</span>
    <span class="n">benchmark_info</span><span class="p">:</span> <span class="n">BenchmarkInfo</span>
</code></pre></div>

<h2 id="quick-start-examples"><a class="toclink" href="#quick-start-examples">Quick Start Examples</a><a class="headerlink" href="#quick-start-examples" title="Permanent link">&para;</a></h2>
<h3 id="python-api"><a class="toclink" href="#python-api">Python API</a><a class="headerlink" href="#python-api" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">genai_bench</span><span class="w"> </span><span class="kn">import</span> <span class="n">Benchmark</span>

<span class="c1"># Create benchmark configuration</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">BenchmarkConfig</span><span class="p">(</span>
    <span class="n">api_backend</span><span class="o">=</span><span class="s2">&quot;openai&quot;</span><span class="p">,</span>
    <span class="n">api_base</span><span class="o">=</span><span class="s2">&quot;http://localhost:8082&quot;</span><span class="p">,</span>
    <span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;your-api-key&quot;</span><span class="p">,</span>
    <span class="n">api_model_name</span><span class="o">=</span><span class="s2">&quot;llama-2-7b&quot;</span><span class="p">,</span>
    <span class="n">task</span><span class="o">=</span><span class="s2">&quot;text-to-text&quot;</span><span class="p">,</span>
    <span class="n">dataset_name</span><span class="o">=</span><span class="s2">&quot;sonnet.txt&quot;</span><span class="p">,</span>
    <span class="n">num_users</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">max_time_per_run</span><span class="o">=</span><span class="mi">60</span>
<span class="p">)</span>

<span class="c1"># Run benchmark</span>
<span class="n">benchmark</span> <span class="o">=</span> <span class="n">Benchmark</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">benchmark</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="c1"># Access metrics</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average latency: </span><span class="si">{</span><span class="n">results</span><span class="o">.</span><span class="n">aggregated_metrics</span><span class="o">.</span><span class="n">avg_latency</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Throughput: </span><span class="si">{</span><span class="n">results</span><span class="o">.</span><span class="n">aggregated_metrics</span><span class="o">.</span><span class="n">throughput</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="cli-api"><a class="toclink" href="#cli-api">CLI API</a><a class="headerlink" href="#cli-api" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Basic benchmark</span>
genai-bench<span class="w"> </span>benchmark<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--api-backend<span class="w"> </span>openai<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--api-base<span class="w"> </span><span class="s2">&quot;http://localhost:8082&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--api-key<span class="w"> </span><span class="s2">&quot;your-api-key&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--api-model-name<span class="w"> </span><span class="s2">&quot;llama-2-7b&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--task<span class="w"> </span>text-to-text<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dataset-name<span class="w"> </span><span class="s2">&quot;sonnet.txt&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--num-users<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--max-time-per-run<span class="w"> </span><span class="m">60</span>

<span class="c1"># Export results</span>
genai-bench<span class="w"> </span>excel<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--experiment-dir<span class="w"> </span>./experiments/latest<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output-file<span class="w"> </span>results.xlsx

<span class="c1"># Generate plots</span>
genai-bench<span class="w"> </span>plot<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--experiment-dirs<span class="w"> </span>./experiments/latest<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output-file<span class="w"> </span>results.png
</code></pre></div>

<h3 id="rest-api"><a class="toclink" href="#rest-api">REST API</a><a class="headerlink" href="#rest-api" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Start benchmark via REST API</span>
curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://localhost:8080/api/v1/benchmarks<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;config&quot;: {</span>
<span class="s1">      &quot;api_backend&quot;: &quot;openai&quot;,</span>
<span class="s1">      &quot;api_base&quot;: &quot;http://localhost:8082&quot;,</span>
<span class="s1">      &quot;api_key&quot;: &quot;your-api-key&quot;,</span>
<span class="s1">      &quot;api_model_name&quot;: &quot;llama-2-7b&quot;,</span>
<span class="s1">      &quot;task&quot;: &quot;text-to-text&quot;,</span>
<span class="s1">      &quot;dataset_name&quot;: &quot;sonnet.txt&quot;,</span>
<span class="s1">      &quot;num_users&quot;: 2,</span>
<span class="s1">      &quot;max_time_per_run&quot;: 60</span>
<span class="s1">    }</span>
<span class="s1">  }&#39;</span>

<span class="c1"># Get benchmark status</span>
curl<span class="w"> </span>http://localhost:8080/api/v1/benchmarks/<span class="o">{</span>benchmark_id<span class="o">}</span>/status

<span class="c1"># Get results</span>
curl<span class="w"> </span>http://localhost:8080/api/v1/benchmarks/<span class="o">{</span>benchmark_id<span class="o">}</span>/results
</code></pre></div>

<h2 id="api-stability"><a class="toclink" href="#api-stability">API Stability</a><a class="headerlink" href="#api-stability" title="Permanent link">&para;</a></h2>
<h3 id="stability-levels"><a class="toclink" href="#stability-levels">Stability Levels</a><a class="headerlink" href="#stability-levels" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Stable</strong>: APIs that are guaranteed to be backward compatible</li>
<li><strong>Beta</strong>: APIs that may change but with deprecation notices</li>
<li><strong>Alpha</strong>: Experimental APIs that may change without notice</li>
</ul>
<h3 id="current-stability"><a class="toclink" href="#current-stability">Current Stability</a><a class="headerlink" href="#current-stability" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>API Component</th>
<th>Stability Level</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>CLI Commands</td>
<td>Stable</td>
<td>Core commands are stable</td>
</tr>
<tr>
<td>Python Core API</td>
<td>Stable</td>
<td>Main interfaces are stable</td>
</tr>
<tr>
<td>Configuration Schema</td>
<td>Stable</td>
<td>Core configuration is stable</td>
</tr>
<tr>
<td>Metrics Format</td>
<td>Beta</td>
<td>May add new metrics</td>
</tr>
<tr>
<td>REST API</td>
<td>Beta</td>
<td>Under active development</td>
</tr>
<tr>
<td>Extension APIs</td>
<td>Alpha</td>
<td>Subject to change</td>
</tr>
</tbody>
</table>
<h2 id="versioning"><a class="toclink" href="#versioning">Versioning</a><a class="headerlink" href="#versioning" title="Permanent link">&para;</a></h2>
<p>GenAI Bench follows semantic versioning (MAJOR.MINOR.PATCH):</p>
<ul>
<li><strong>MAJOR</strong>: Breaking changes to stable APIs</li>
<li><strong>MINOR</strong>: New features, backward compatible</li>
<li><strong>PATCH</strong>: Bug fixes, backward compatible</li>
</ul>
<h3 id="api-versioning"><a class="toclink" href="#api-versioning">API Versioning</a><a class="headerlink" href="#api-versioning" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>CLI</strong>: Version specified via <code>--version</code> flag</li>
<li><strong>Python API</strong>: Version available via <code>genai_bench.__version__</code></li>
<li><strong>REST API</strong>: Version in URL path (<code>/api/v1/</code>)</li>
</ul>
<h2 id="authentication"><a class="toclink" href="#authentication">Authentication</a><a class="headerlink" href="#authentication" title="Permanent link">&para;</a></h2>
<h3 id="api-keys"><a class="toclink" href="#api-keys">API Keys</a><a class="headerlink" href="#api-keys" title="Permanent link">&para;</a></h3>
<p>GenAI Bench supports various authentication methods:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Environment variable (recommended)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="n">config</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;OPENAI_API_KEY&quot;</span><span class="p">)</span>

<span class="c1"># Direct assignment</span>
<span class="n">config</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s2">&quot;your-api-key&quot;</span>

<span class="c1"># File-based</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;api_key.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">config</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</code></pre></div>

<h3 id="security-best-practices"><a class="toclink" href="#security-best-practices">Security Best Practices</a><a class="headerlink" href="#security-best-practices" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Never hardcode API keys</strong> in source code</li>
<li><strong>Use environment variables</strong> for sensitive data</li>
<li><strong>Rotate keys regularly</strong> for production systems</li>
<li><strong>Limit key permissions</strong> where possible</li>
</ol>
<h2 id="error-handling"><a class="toclink" href="#error-handling">Error Handling</a><a class="headerlink" href="#error-handling" title="Permanent link">&para;</a></h2>
<h3 id="common-error-types"><a class="toclink" href="#common-error-types">Common Error Types</a><a class="headerlink" href="#common-error-types" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">genai_bench.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">BenchmarkError</span><span class="p">,</span>
    <span class="n">ConfigurationError</span><span class="p">,</span>
    <span class="n">APIError</span><span class="p">,</span>
    <span class="n">DatasetError</span>
<span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">benchmark</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="k">except</span> <span class="n">ConfigurationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Configuration error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">APIError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;API error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">DatasetError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dataset error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">BenchmarkError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Benchmark error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="error-response-format"><a class="toclink" href="#error-response-format">Error Response Format</a><a class="headerlink" href="#error-response-format" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ConfigurationError&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Invalid API endpoint&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;api_base&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;invalid-url&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="integration-examples"><a class="toclink" href="#integration-examples">Integration Examples</a><a class="headerlink" href="#integration-examples" title="Permanent link">&para;</a></h2>
<h3 id="cicd-integration"><a class="toclink" href="#cicd-integration">CI/CD Integration</a><a class="headerlink" href="#cicd-integration" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># GitHub Actions example</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Performance Benchmark</span>
<span class="nt">on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">push</span><span class="p p-Indicator">]</span>
<span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">benchmark</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run Benchmark</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">          </span><span class="no">pip install genai-bench</span>
<span class="w">          </span><span class="no">genai-bench benchmark \</span>
<span class="w">            </span><span class="no">--api-backend openai \</span>
<span class="w">            </span><span class="no">--api-base &quot;${{ secrets.API_BASE }}&quot; \</span>
<span class="w">            </span><span class="no">--api-key &quot;${{ secrets.API_KEY }}&quot; \</span>
<span class="w">            </span><span class="no">--api-model-name &quot;test-model&quot; \</span>
<span class="w">            </span><span class="no">--task text-to-text \</span>
<span class="w">            </span><span class="no">--num-users 2 \</span>
<span class="w">            </span><span class="no">--max-time-per-run 60</span>
</code></pre></div>

<h3 id="docker-integration"><a class="toclink" href="#docker-integration">Docker Integration</a><a class="headerlink" href="#docker-integration" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">FROM</span><span class="w"> </span><span class="s">python:3.11-slim</span>

<span class="k">RUN</span><span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>genai-bench

<span class="k">COPY</span><span class="w"> </span>benchmark-config.yaml<span class="w"> </span>/app/
<span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>

<span class="k">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;genai-bench&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;benchmark&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;--config&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;benchmark-config.yaml&quot;</span><span class="p">]</span>
</code></pre></div>

<h3 id="kubernetes-integration"><a class="toclink" href="#kubernetes-integration">Kubernetes Integration</a><a class="headerlink" href="#kubernetes-integration" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Job</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">genai-bench-job</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">template</span><span class="p">:</span>
<span class="w">    </span><span class="nt">spec</span><span class="p">:</span>
<span class="w">      </span><span class="nt">containers</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">benchmark</span>
<span class="w">        </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">genai-bench:latest</span>
<span class="w">        </span><span class="nt">env</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">API_KEY</span>
<span class="w">          </span><span class="nt">valueFrom</span><span class="p">:</span>
<span class="w">            </span><span class="nt">secretKeyRef</span><span class="p">:</span>
<span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">api-secrets</span>
<span class="w">              </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openai-key</span>
<span class="w">        </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;genai-bench&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;benchmark&quot;</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span>
<span class="w">          </span><span class="s">&quot;--api-backend&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;openai&quot;</span><span class="p p-Indicator">,</span>
<span class="w">          </span><span class="s">&quot;--api-base&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;http://model-service:8080&quot;</span><span class="p p-Indicator">,</span>
<span class="w">          </span><span class="s">&quot;--task&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;text-to-text&quot;</span><span class="p p-Indicator">,</span>
<span class="w">          </span><span class="s">&quot;--num-users&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;10&quot;</span><span class="p p-Indicator">,</span>
<span class="w">          </span><span class="s">&quot;--max-time-per-run&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;300&quot;</span>
<span class="w">        </span><span class="p p-Indicator">]</span>
<span class="w">      </span><span class="nt">restartPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</code></pre></div>

<h2 id="performance-considerations"><a class="toclink" href="#performance-considerations">Performance Considerations</a><a class="headerlink" href="#performance-considerations" title="Permanent link">&para;</a></h2>
<h3 id="resource-usage"><a class="toclink" href="#resource-usage">Resource Usage</a><a class="headerlink" href="#resource-usage" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Memory</strong>: Scales with number of concurrent users and dataset size</li>
<li><strong>CPU</strong>: Depends on tokenization and metrics processing</li>
<li><strong>Network</strong>: Proportional to request rate and payload size</li>
</ul>
<h3 id="optimization-tips"><a class="toclink" href="#optimization-tips">Optimization Tips</a><a class="headerlink" href="#optimization-tips" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Use appropriate concurrency</strong> for your target system</li>
<li><strong>Monitor resource usage</strong> during benchmarks</li>
<li><strong>Batch requests</strong> when possible</li>
<li><strong>Cache tokenizers</strong> for repeated use</li>
</ol>
<h2 id="troubleshooting"><a class="toclink" href="#troubleshooting">Troubleshooting</a><a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="common-issues"><a class="toclink" href="#common-issues">Common Issues</a><a class="headerlink" href="#common-issues" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Connection timeouts</strong>: Check network connectivity and API endpoint</li>
<li><strong>Authentication errors</strong>: Verify API keys and permissions</li>
<li><strong>Rate limiting</strong>: Reduce concurrency or add delays</li>
<li><strong>Memory issues</strong>: Reduce dataset size or concurrency</li>
</ol>
<h3 id="debug-mode"><a class="toclink" href="#debug-mode">Debug Mode</a><a class="headerlink" href="#debug-mode" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Enable debug logging</span>
genai-bench<span class="w"> </span>benchmark<span class="w"> </span>--log-level<span class="w"> </span>DEBUG

<span class="c1"># Save detailed logs</span>
genai-bench<span class="w"> </span>benchmark<span class="w"> </span>--log-file<span class="w"> </span>benchmark.log
</code></pre></div>

<h3 id="getting-help"><a class="toclink" href="#getting-help">Getting Help</a><a class="headerlink" href="#getting-help" title="Permanent link">&para;</a></h3>
<ul>
<li>Check the <a href="../../user-guide/overview/">User Guide</a> for detailed documentation</li>
<li>Review <a href="../../examples/basic-benchmarks/">Examples</a> for practical use cases</li>
<li>Open an <a href="https://github.com/sgl-project/genai-bench/issues">issue</a> for bugs or questions</li>
</ul>
<h2 id="next-steps"><a class="toclink" href="#next-steps">Next Steps</a><a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li>Explore the <a href="../../user-guide/cli/">CLI Reference</a> for command-line usage</li>
<li>Read about <a href="../../user-guide/tasks/">Tasks and Benchmarks</a> for different benchmark types</li>
<li>Check out <a href="../../examples/basic-benchmarks/">Examples</a> for practical scenarios </li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../examples/basic-benchmarks/" class="btn btn-neutral float-left" title="Basic Benchmarks"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../development/contributing/" class="btn btn-neutral float-right" title="Contributing">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy; 2024 GenAI Bench Team</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/sgl-project/genai-bench" class="fa fa-code-fork" style="color: #fcfcfc"> sgl-project/genai-bench</a>
        </span>
    
    
      <span><a href="../../examples/basic-benchmarks/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../development/contributing/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
